((e,t,l,a)=>{const r=t.createElement("canvas").getContext("2d"),o={r:0,g:0,b:0,h:0,s:0,v:0,a:1};let n,c,s,i,u,d,p,h,f,b,y,g,m,v,w,k,L={};const E={el:"[data-coloris]",parent:"body",theme:"default",themeMode:"light",rtl:!1,wrap:!0,margin:2,format:"hex",formatToggle:!1,swatches:["#264653","#2a9d8f","#e9c46a"],swatchesOnly:!1,alpha:!1,forceAlpha:!1,focusInput:!0,selectInput:!1,inline:!1,defaultColor:"#000000",clearButton:!1,clearLabel:"Reset",closeButton:!1,closeLabel:"Close",onChange:()=>a,a11y:{open:"Open color picker",close:"Close color picker",clear:"Clear the selected color",marker:"Saturation: {s}. Brightness: {v}.",hueSlider:"Hue slider",alphaSlider:"Opacity slider",input:"Color value field",format:"Color format",swatch:"Color swatch",instruction:"Saturation and brightness selector. Use up, down, left and right arrow keys to select."}},$={};let x="",A={},S=!1;function T(l){if("object"==typeof l)for(const r in l)switch(r){case"el":H(l.el),!1!==l.wrap&&D(l.el);break;case"parent":n=t.querySelector(l.parent),n&&(n.appendChild(c),E.parent=l.parent,n===t.body&&(n=a));break;case"themeMode":E.themeMode=l.themeMode,"auto"===l.themeMode&&e.matchMedia&&e.matchMedia("(prefers-color-scheme: dark)").matches&&(E.themeMode="dark");case"theme":l.theme&&(E.theme=l.theme),c.className=`clr-picker clr-${E.theme} clr-${E.themeMode}`,E.inline&&O();break;case"rtl":E.rtl=!!l.rtl,t.querySelectorAll(".clr-field").forEach((e=>e.classList.toggle("clr-rtl",E.rtl)));break;case"margin":l.margin*=1,E.margin=isNaN(l.margin)?E.margin:l.margin;break;case"wrap":l.el&&l.wrap&&D(l.el);break;case"formatToggle":E.formatToggle=!!l.formatToggle,K("clr-format").style.display=E.formatToggle?"block":"none",E.formatToggle&&(E.format="auto");break;case"swatches":if(Array.isArray(l.swatches)){const e=[];l.swatches.forEach(((t,l)=>{e.push(`<button type="button" id="clr-swatch-${l}" aria-labelledby="clr-swatch-label clr-swatch-${l}" style="color: ${t};">${t}</button>`)})),K("clr-swatches").innerHTML=e.length?`<div>${e.join("")}</div>`:"",E.swatches=l.swatches.slice()}break;case"swatchesOnly":E.swatchesOnly=!!l.swatchesOnly,c.setAttribute("data-minimal",E.swatchesOnly);break;case"alpha":E.alpha=!!l.alpha,c.setAttribute("data-alpha",E.alpha);break;case"inline":if(E.inline=!!l.inline,c.setAttribute("data-inline",E.inline),E.inline){const e=l.defaultColor||E.defaultColor;v=j(e),O(),I(e)}break;case"clearButton":"object"==typeof l.clearButton&&(l.clearButton.label&&(E.clearLabel=l.clearButton.label,p.innerHTML=E.clearLabel),l.clearButton=l.clearButton.show),E.clearButton=!!l.clearButton,p.style.display=E.clearButton?"block":"none";break;case"clearLabel":E.clearLabel=l.clearLabel,p.innerHTML=E.clearLabel;break;case"closeButton":E.closeButton=!!l.closeButton,E.closeButton?c.insertBefore(h,u):u.appendChild(h);break;case"closeLabel":E.closeLabel=l.closeLabel,h.innerHTML=E.closeLabel;break;case"a11y":const o=l.a11y;let i=!1;if("object"==typeof o)for(const e in o)o[e]&&E.a11y[e]&&(E.a11y[e]=o[e],i=!0);if(i){const e=K("clr-open-label"),t=K("clr-swatch-label");e.innerHTML=E.a11y.open,t.innerHTML=E.a11y.swatch,h.setAttribute("aria-label",E.a11y.close),p.setAttribute("aria-label",E.a11y.clear),f.setAttribute("aria-label",E.a11y.hueSlider),y.setAttribute("aria-label",E.a11y.alphaSlider),d.setAttribute("aria-label",E.a11y.input),s.setAttribute("aria-label",E.a11y.instruction)}break;default:E[r]=l[r]}}function C(e,t){"string"==typeof e&&"object"==typeof t&&($[e]=t,S=!0)}function B(e){delete $[e],0===Object.keys($).length&&(S=!1,e===x&&M())}function M(){Object.keys(A).length>0&&(T(A),x="",A={})}function H(e){z(t,"click",e,(e=>{E.inline||(!function(e){if(S){const t=["el","wrap","rtl","inline","defaultColor","a11y"];for(let l in $){const a=$[l];if(e.matches(l)){x=l,A={},t.forEach((e=>delete a[e]));for(let e in a)A[e]=Array.isArray(E[e])?E[e].slice():E[e];T(a);break}}}}(e.target),m=e.target,w=m.value,v=j(w),c.classList.add("clr-open"),O(),I(w),(E.focusInput||E.selectInput)&&(d.focus({preventScroll:!0}),d.setSelectionRange(m.selectionStart,m.selectionEnd)),E.selectInput&&d.select(),(k||E.swatchesOnly)&&G().shift().focus(),m.dispatchEvent(new Event("open",{bubbles:!0})))})),z(t,"input",e,(e=>{const t=e.target.parentNode;t.classList.contains("clr-field")&&(t.style.color=e.target.value)}))}function O(){const l=n,a=e.scrollY,r=c.offsetWidth,o=c.offsetHeight,i={left:!1,top:!1};let u,d,p,h={x:0,y:0};if(l&&(u=e.getComputedStyle(l),d=parseFloat(u.marginTop),p=parseFloat(u.borderTopWidth),h=l.getBoundingClientRect(),h.y+=p+a),!E.inline){const e=m.getBoundingClientRect();let n=e.x,s=a+e.y+e.height+E.margin;l?(n-=h.x,s-=h.y,n+r>l.clientWidth&&(n+=e.width-r,i.left=!0),s+o>l.clientHeight-d&&o+E.margin<=e.top-(h.y-a)&&(s-=e.height+o+2*E.margin,i.top=!0),s+=l.scrollTop):(n+r>t.documentElement.clientWidth&&(n+=e.width-r,i.left=!0),s+o-a>t.documentElement.clientHeight&&o+E.margin<=e.top&&(s=a+e.y-o-E.margin,i.top=!0)),c.classList.toggle("clr-left",i.left),c.classList.toggle("clr-top",i.top),c.style.left=`${n}px`,c.style.top=`${s}px`,h.x+=c.offsetLeft,h.y+=c.offsetTop}L={width:s.offsetWidth,height:s.offsetHeight,x:s.offsetLeft+h.x,y:s.offsetTop+h.y}}function D(e){t.querySelectorAll(e).forEach((e=>{const l=e.parentNode;if(!l.classList.contains("clr-field")){const a=t.createElement("div");let r="clr-field";(E.rtl||e.classList.contains("clr-rtl"))&&(r+=" clr-rtl"),a.innerHTML='<button type="button" aria-labelledby="clr-open-label"></button>',l.insertBefore(a,e),a.setAttribute("class",r),a.style.color=e.value,a.appendChild(e)}}))}function N(e){if(m&&!E.inline){const t=m;e&&(m=a,w!==t.value&&(t.value=w,t.dispatchEvent(new Event("input",{bubbles:!0})))),setTimeout((()=>{w!==t.value&&t.dispatchEvent(new Event("change",{bubbles:!0}))})),c.classList.remove("clr-open"),S&&M(),t.dispatchEvent(new Event("close",{bubbles:!0})),E.focusInput&&t.focus({preventScroll:!0}),m=a}}function I(e){const t=function(e){const t=/^((rgba)|rgb)[\D]+([\d.]+)[\D]+([\d.]+)[\D]+([\d.]+)[\D]*?([\d.]+|$)/i;let l,a;r.fillStyle="#076D2B",r.fillStyle=e,l=t.exec(r.fillStyle),l?(a={r:1*l[3],g:1*l[4],b:1*l[5],a:1*l[6]},a.a=+a.a.toFixed(2)):(l=r.fillStyle.replace("#","").match(/.{2}/g).map((e=>parseInt(e,16))),a={r:l[0],g:l[1],b:l[2],a:1});return a}(e),a=function(e){const t=e.r/255,a=e.g/255,r=e.b/255,o=l.max(t,a,r),n=l.min(t,a,r),c=o-n,s=o;let i=0,u=0;c&&(o===t&&(i=(a-r)/c),o===a&&(i=2+(r-t)/c),o===r&&(i=4+(t-a)/c),o&&(u=c/o));return i=l.floor(60*i),{h:i<0?i+360:i,s:l.round(100*u),v:l.round(100*s),a:e.a}}(t);q(a.s,a.v),X(t,a),f.value=a.h,c.style.color=`hsl(${a.h}, 100%, 50%)`,b.style.left=a.h/360*100+"%",i.style.left=L.width*a.s/100+"px",i.style.top=L.height-L.height*a.v/100+"px",y.value=100*a.a,g.style.left=100*a.a+"%"}function j(e){const t=e.substring(0,3).toLowerCase();return"rgb"===t||"hsl"===t?t:"hex"}function R(l){l=l!==a?l:d.value,m&&(m.value=l,m.dispatchEvent(new Event("input",{bubbles:!0}))),E.onChange&&E.onChange.call(e,l,m),t.dispatchEvent(new CustomEvent("coloris:pick",{detail:{color:l,currentEl:m}}))}function W(e,t){const a={h:1*f.value,s:e/L.width*100,v:100-t/L.height*100,a:y.value/100},r=function(e){const t=e.s/100,a=e.v/100;let r=t*a,o=e.h/60,n=r*(1-l.abs(o%2-1)),c=a-r;r+=c,n+=c;const s=l.floor(o)%6,i=[r,n,c,c,n,r][s],u=[n,r,r,n,c,c][s],d=[c,c,n,r,r,n][s];return{r:l.round(255*i),g:l.round(255*u),b:l.round(255*d),a:e.a}}(a);q(a.s,a.v),X(r,a),R()}function q(e,t){let l=E.a11y.marker;e=1*e.toFixed(1),t=1*t.toFixed(1),l=l.replace("{s}",e),l=l.replace("{v}",t),i.setAttribute("aria-label",l)}function F(e){const t=function(e){return{pageX:e.changedTouches?e.changedTouches[0].pageX:e.pageX,pageY:e.changedTouches?e.changedTouches[0].pageY:e.pageY}}(e);let l=t.pageX-L.x,a=t.pageY-L.y;n&&(a+=n.scrollTop),Y(l,a),e.preventDefault(),e.stopPropagation()}function Y(e,t){e=e<0?0:e>L.width?L.width:e,t=t<0?0:t>L.height?L.height:t,i.style.left=`${e}px`,i.style.top=`${t}px`,W(e,t),i.focus()}function X(e={},a={}){let r=E.format;for(const t in e)o[t]=e[t];for(const e in a)o[e]=a[e];const n=function(e){let t=e.r.toString(16),l=e.g.toString(16),a=e.b.toString(16),r="";e.r<16&&(t="0"+t);e.g<16&&(l="0"+l);e.b<16&&(a="0"+a);if(E.alpha&&(e.a<1||E.forceAlpha)){const t=255*e.a|0;r=t.toString(16),t<16&&(r="0"+r)}return"#"+t+l+a+r}(o),c=n.substring(0,7);switch(i.style.color=c,g.parentNode.style.color=c,g.style.color=n,u.style.color=n,s.style.display="none",s.offsetHeight,s.style.display="",g.nextElementSibling.style.display="none",g.nextElementSibling.offsetHeight,g.nextElementSibling.style.display="","mixed"===r?r=1===o.a?"hex":"rgb":"auto"===r&&(r=v),r){case"hex":d.value=n;break;case"rgb":d.value=function(e){return!E.alpha||1===e.a&&!E.forceAlpha?`rgb(${e.r}, ${e.g}, ${e.b})`:`rgba(${e.r}, ${e.g}, ${e.b}, ${e.a})`}(o);break;case"hsl":d.value=(p=function(e){const t=e.v/100,a=t*(1-e.s/100/2);let r;return a>0&&a<1&&(r=l.round((t-a)/l.min(a,1-a)*100)),{h:e.h,s:r||0,l:l.round(100*a),a:e.a}}(o),!E.alpha||1===p.a&&!E.forceAlpha?`hsl(${p.h}, ${p.s}%, ${p.l}%)`:`hsla(${p.h}, ${p.s}%, ${p.l}%, ${p.a})`)}var p;t.querySelector(`.clr-format [value="${r}"]`).checked=!0}function P(){const e=1*f.value,t=1*i.style.left.replace("px",""),l=1*i.style.top.replace("px","");c.style.color=`hsl(${e}, 100%, 50%)`,b.style.left=e/360*100+"%",W(t,l)}function U(){const e=y.value/100;g.style.left=100*e+"%",X({a:e}),R()}function G(){return Array.from(c.querySelectorAll("input, button")).filter((e=>!!e.offsetWidth))}function K(e){return t.getElementById(e)}function z(e,t,l,a){const r=Element.prototype.matches||Element.prototype.msMatchesSelector;"string"==typeof l?e.addEventListener(t,(e=>{r.call(e.target,l)&&a.call(e.target,e)})):(a=l,e.addEventListener(t,a))}function J(e,l){l=l!==a?l:[],"loading"!==t.readyState?e(...l):t.addEventListener("DOMContentLoaded",(()=>{e(...l)}))}NodeList!==a&&NodeList.prototype&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),e.Coloris=(()=>{const e={set:T,wrap:D,close:N,setInstance:C,removeInstance:B,updatePosition:O};function t(e){J((()=>{e&&("string"==typeof e?H(e):T(e))}))}for(const l in e)t[l]=(...t)=>{J(e[l],t)};return t})(),J((function(){n=a,c=t.createElement("div"),c.setAttribute("id","clr-picker"),c.className="clr-picker",c.innerHTML=`<input id="clr-color-value" name="clr-color-value" class="clr-color" type="text" value="" spellcheck="false" aria-label="${E.a11y.input}"><div id="clr-color-area" class="clr-gradient" role="application" aria-label="${E.a11y.instruction}"><div id="clr-color-marker" class="clr-marker" tabindex="0"></div></div><div class="clr-hue"><input id="clr-hue-slider" name="clr-hue-slider" type="range" min="0" max="360" step="1" aria-label="${E.a11y.hueSlider}"><div id="clr-hue-marker"></div></div><div class="clr-alpha"><input id="clr-alpha-slider" name="clr-alpha-slider" type="range" min="0" max="100" step="1" aria-label="${E.a11y.alphaSlider}"><div id="clr-alpha-marker"></div><span></span></div><div id="clr-format" class="clr-format"><fieldset class="clr-segmented"><legend>${E.a11y.format}</legend><input id="clr-f1" type="radio" name="clr-format" value="hex"><label for="clr-f1">Hex</label><input id="clr-f2" type="radio" name="clr-format" value="rgb"><label for="clr-f2">RGB</label><input id="clr-f3" type="radio" name="clr-format" value="hsl"><label for="clr-f3">HSL</label><span></span></fieldset></div><div id="clr-swatches" class="clr-swatches"></div><button type="button" id="clr-clear" class="clr-clear" aria-label="${E.a11y.clear}">${E.clearLabel}</button><div id="clr-color-preview" class="clr-preview"><button type="button" id="clr-close" class="clr-close" aria-label="${E.a11y.close}">${E.closeLabel}</button></div><span id="clr-open-label" hidden>${E.a11y.open}</span><span id="clr-swatch-label" hidden>${E.a11y.swatch}</span>`,t.body.appendChild(c),s=K("clr-color-area"),i=K("clr-color-marker"),p=K("clr-clear"),h=K("clr-close"),u=K("clr-color-preview"),d=K("clr-color-value"),f=K("clr-hue-slider"),b=K("clr-hue-marker"),y=K("clr-alpha-slider"),g=K("clr-alpha-marker"),H(E.el),D(E.el),z(c,"mousedown",(e=>{c.classList.remove("clr-keyboard-nav"),e.stopPropagation()})),z(s,"mousedown",(e=>{z(t,"mousemove",F)})),z(s,"touchstart",(e=>{t.addEventListener("touchmove",F,{passive:!1})})),z(i,"mousedown",(e=>{z(t,"mousemove",F)})),z(i,"touchstart",(e=>{t.addEventListener("touchmove",F,{passive:!1})})),z(d,"change",(e=>{const t=d.value;if(m||E.inline){R(""===t?t:I(t))}})),z(p,"click",(e=>{R("rgb(7,109,43)"),N()})),z(h,"click",(e=>{R(),N()})),z(K("clr-format"),"click",".clr-format input",(e=>{v=e.target.value,X(),R()})),z(c,"click",".clr-swatches button",(e=>{I(e.target.textContent),R(),E.swatchesOnly&&N()})),z(t,"mouseup",(e=>{t.removeEventListener("mousemove",F)})),z(t,"touchend",(e=>{t.removeEventListener("touchmove",F)})),z(t,"mousedown",(e=>{k=!1,c.classList.remove("clr-keyboard-nav"),N()})),z(t,"keydown",(e=>{const t=e.key,l=e.target,a=e.shiftKey;if("Escape"===t?N(!0):["Tab","ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(t)&&(k=!0,c.classList.add("clr-keyboard-nav")),"Tab"===t&&l.matches(".clr-picker *")){const t=G(),r=t.shift(),o=t.pop();a&&l===r?(o.focus(),e.preventDefault()):a||l!==o||(r.focus(),e.preventDefault())}})),z(t,"click",".clr-field button",(e=>{S&&M(),e.target.nextElementSibling.dispatchEvent(new Event("click",{bubbles:!0}))})),z(i,"keydown",(e=>{const t={ArrowUp:[0,-1],ArrowDown:[0,1],ArrowLeft:[-1,0],ArrowRight:[1,0]};Object.keys(t).includes(e.key)&&(!function(e,t){Y(1*i.style.left.replace("px","")+e,1*i.style.top.replace("px","")+t)}(...t[e.key]),e.preventDefault())})),z(s,"click",F),z(f,"input",P),z(y,"input",U)}))})(window,document,Math);